YUI.add("photo-selector-view",(function(t,e){var o,i=require("hermes-core/flog")(e),s=150;o={horizontal:20,vertical:20},t.FlickrView.create(this.name,t.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return""===this.get("container").getHTML()&&this.setContainerWithTemplate("flickr-balls"),this.photoListView,this.searchPhotoListViews=[],this.publicOnlyGroups=t.publicOnlyGroups,this.publicOnlyPhotos=t.publicOnlyPhotos,this.safeOnlyPhotos=t.safeOnlyPhotos||!1,this.enableMultiSelect=t.enableMultiSelect||!1,this.multiSelectLimit=void 0===t.multiSelectLimit?1:t.multiSelectLimit,this.preSelectedPhotos=t.preSelectedPhotos||[],this.clearRegistriesOnDestroy=t.clearRegistriesOnDestroy||!1,this.selectedModels=[],t.enableVideos&&this.set("itemFilterFunction",!1),this.isUploading=!1,this},loadState:function(){var e=this.appContext.getViewer().nsid,o={};return this.safeOnlyPhotos&&(e+="-safe",o.safeSearch="true"),this.publicOnlyPhotos&&(e+="-public",o.viewAs="public"),this.appContext.getModelRegistry("profile-selected-photos-models").then(function(i){i.removeAll();var s={selectionModel:this.appContext.getModel("profile-selected-photos-models",this.appContext.getViewer().nsid),photostreamModel:this.appContext.getModel("photostream-models",e,o),setModelRegistry:this.appContext.getModelRegistry("set-models"),setsModel:this.appContext.getModel("sets-models",this.appContext.getViewer().nsid,{page:1,perPage:25}),profileModel:this.appContext.getModel("person-profile-models",this.appContext.getViewer().nsid)};return new t.FlickrPromise(s).then(this.onLoadStateResolved.bind(this))}.bind(this))},onLoadStateResolved:function(e){if(this.set("selectionModel",e.selectionModel),this.set("photostreamModel",e.photostreamModel),this.set("setsModel",e.setsModel),this.set("setModelRegistry",e.setModelRegistry),this.set("profileModel",e.profileModel),this.preSelectedPhotos&&this.preSelectedPhotos.length>0&&this.get("selectionModel").setValue("photos",this.preSelectedPhotos?this.preSelectedPhotos:[]),0===this.get("photostreamModel").getValue("totalItems")?this.set("photostreamEmpty",!0):this.set("photostreamEmpty",!1),this.get("groupId"))return this.appContext.getModel("group-pool-models",this.get("groupId")).then(function(t){this.set("groupModel",t)}.bind(this),(function(t){i.error("error loading group model",{err:t})}));this.canUpload=this.get("hasUploadCapabilities")&&!t.UserLimitsHelper.hasReachedUploadLimit(this.get("profileModel"),this.appContext)},moveElementToFirstInArray:function(t,e,o){var i;return t.forEach((function(t,s){t[o]===e&&(i=s)})),t.unshift(t.splice(i,1)[0]),t},buildContainer:function(){return this.setContainerWithTemplate("photo-selector",{hasUploadCapabilities:this.get("hasUploadCapabilities"),canUpload:this.canUpload,searchable:this.get("searchable"),publicOnlyPhotos:this.get("publicOnlyPhotos"),photostreamEmpty:this.get("photostreamEmpty"),hasGroupCapabilities:this.get("groupId")}),this},loadPhotoList:function(e,r){var a,l=this,n=this.get("container"),h=n.one(".photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),r||(r=!1),a={modelParams:e,fetchParams:e.fetchParams,parentName:this.name,hasMultiSelect:this.enableMultiSelect,multiSelectLimit:this.multiSelectLimit,paginateOnScroll:!0,parentContainer:h,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),galleryId:this.get("galleryId"),type:this.get("defaultSelected").type},this.get("itemFilterFunction")&&(a.itemFilterFunction=this.get("itemFilterFunction")),a.layout={targetRowHeight:s,containerWidth:a.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:h.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=a,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:a,isActiveViewAgnostic:!0,container:n.one(".photo-selector-photos-container")}).then((function(e){return e.initialize().then((function(e){var o,i=n.one(".photo-selector-photos-container"),s=i.one(".photo-list-view"),a=n.one(".loader");h.getDOMNode().scrollTop=0,l.photoListView=e,a&&a.addClass("loaded"),s.hasChildNodes()||(o=r?t.Node.create('<p class="no-results">'+l.intlMessage({intlName:"search.NO_MATCHES_FOR_QUERY_TERM_YOUR"})+"</p>"):l.publicOnlyPhotos?t.Node.create('<p class="no-results">'+l.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"})+"</p>"):t.Node.create('<p class="no-results">'+l.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PHOTOS"})+"</p>"),s.empty(),i.prepend(o)),l.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSelectionPhotoList:function(){var e,r=this,a=this.get("container"),l=a.one(".photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),(e={parentName:this.name,hasMultiSelect:this.enableMultiSelect,multiSelectLimit:this.multiSelectLimit,paginateOnScroll:!0,initialItems:this.get("selectionModel").getValue("photos").getList(),parentContainer:l,relayoutOnResize:!0,interactionViewName:"photo-selector-selection-interaction-view"}).layout={targetRowHeight:s,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!0,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:l.get("offsetHeight")},this.get("itemFilterFunction")&&(e.itemFilterFunction=this.get("itemFilterFunction")),this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,nsid:this.appContext.getViewer().nsid,container:a.one(".photo-selector-photos-container")}).then((function(e){return e.initialize().then((function(e){var o,i=a.one(".photo-selector-photos-container"),s=i.one(".photo-list-view"),n=a.one(".loader");i.addClass("photo-selector-selection-photolist"),l.getDOMNode().scrollTop=0,r.photoListView=e,n&&n.addClass("loaded"),s.hasChildNodes()||(o=t.Node.create('<p class="no-results">'+r.intlMessage({intlName:"profile.NO_PHOTOS_SELECTED"})+"</p>"),s.empty(),i.prepend(o))}))}),(function(t){i.error("Error getting view",{err:t})}))},loadGroupPhotoList:function(e){var r,a=this,l=this.get("container"),n=l.one(".group-photo-selector-photos-wrapper");this.photoListView&&this.photoListView.destroy(),r={modelParams:e,parentName:this.name,paginateOnScroll:!0,parentContainer:n,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName")},this.get("itemFilterFunction")&&(r.itemFilterFunction=this.get("itemFilterFunction")),r.layout={targetRowHeight:s,containerWidth:r.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:n.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=r,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:r,isActiveViewAgnostic:!0,container:n}).then((function(e){return e.initialize().then((function(e){var o,i=l.one(".group-photo-selector-photos-container"),s=i.one(".photo-list-view");n.getDOMNode().scrollTop=0,a.photoListView=e,l.one(".loader").addClass("loaded"),s.hasChildNodes()||(o=t.Node.create('<p class="no-results">'+a.intlMessage({intlName:"groups.GROUP_POOL_CONTAINS_NO_PUBLIC_PHOTOS"})+"</p>"),s.empty(),i.prepend(o)),a.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSetsPhotoList:function(t){var e,s=this,r=this.get("container");this.photoListView&&this.photoListView.destroy(),(e={modelParams:t,parentName:this.name,paginateOnScroll:!0,parentContainer:r.one(".photo-selector-photos-wrapper"),relayoutOnResize:!0,interactionViewName:this.get("setsInteractionViewName"),engagementModelName:"set-models",viewBeaconRestrictedAttribute:"primaryNeedsInterstitial"}).layout={targetRowHeight:200,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:20,bottom:10,left:20},itemSpacing:o,forceAspectRatio:1,alwaysDisplayOrphans:!1,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:r.one(".photo-selector-photos-wrapper").get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(this.get("photoListViewName"),{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,container:r.one(".photo-selector-photos-container")}).then((function(t){return t.initialize().then((function(t){var e=r.one(".loader");r.one(".photo-selector-photos-container .photo-list-view");r.one(".photo-selector-photos-wrapper").getDOMNode().scrollTop=0,s.photoListView=t,e&&r.one(".loader").addClass("loaded"),s.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},loadSearchPhotoList:function(t){var e,r=this,a=this.get("container"),l=t.photoListContainerSelector?a.one(t.photoListContainerSelector):a.one(".photo-selector-photos-container"),n=t.parentContainerSelector?a.one(t.parentContainerSelector):a.one(".photo-selector-photos-wrapper"),h=t.maxNumRows?this.get("limitedRowsPhotoListViewName"):this.get("photoListViewName");this.searchPhotoListViews&&this.searchPhotoListViews[t.listId]&&this.searchPhotoListViews[t.listId].destroy(),e={modelParams:t.modelParams,parentName:this.name,paginateOnScroll:!0,parentContainer:n,relayoutOnResize:!0,interactionViewName:this.get("interactionViewName"),engagementModelName:"photo-lite-models"},this.get("itemFilterFunction")&&(e.itemFilterFunction=this.get("itemFilterFunction")),e.layout={targetRowHeight:s,containerWidth:e.parentContainer.get("offsetWidth"),containerPadding:{top:10,right:0,bottom:10,left:0},itemSpacing:o,forceAspectRatio:1,maxNumRows:t.maxNumRows?t.maxNumRows:Number.POSITIVE_INFINITY,alwaysDisplayOrphans:!!t.alwaysDisplayOrphans&&t.alwaysDisplayOrphans,awakeBoundsToViewportSizeRatio:5,viewportContainerNodeHeight:n.get("offsetHeight")},this.appContext.params.primaryPhotoListConfig=e,this.appContext.getView(h,{appContext:this.appContext,publicOnlyPhotos:this.publicOnlyPhotos,primaryPhotoListConfig:e,isActiveViewAgnostic:!0,container:l,searchUrl:t.searchUrl,listId:t.listId}).then((function(e){return e.initialize().then((function(e){r.registerEventHandler(e.on("subviewViewEvent",r.handleSubviewEvent,r)),a.one(".photo-selector-search-lists-wrapper").getDOMNode().scrollTop=0,t.parentContainerSelector&&(a.one(t.parentContainerSelector).getDOMNode().scrollTop=0),r.searchPhotoListViews[t.listId]=e,a.one(".loader").addClass("loaded"),r.addPhotoToSelection(null)}))}),(function(t){i.error("Error getting view",{err:t})}))},activate:function(){var e,o=this.get("container"),i=this.get("defaultSelected");return this.registerEventHandler(o.on("click",this.handleClick,this)),this.canUpload&&this.registerEventHandler(o.one(".file-select").on("change",this.handleFileSelect,this)),this.registerEventHandler(t.on("photoSelector:subviewEvent",this.handleSubviewEvent,this)),i?"group"===i.type?(e={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId")+"-public",collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(e.fetchParams={privacyFilter:1},e.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(e),this.toggleTitleBar(i.title,"group")):"gallery"===i.type?(e={registryName:"gallery-info-models",modelIdOrAttributes:i.id,collectionAttributeName:"photoList"},this.loadPhotoList(e)):"galleryFaves"===i.type?(e={registryName:"gallery-faves-models",modelIdOrAttributes:this.get("defaultSelected").id,collectionAttributeName:"photoList",fetchParams:{galleryId:this.get("galleryId")}},this.loadPhotoList(e)):(e={registryName:"set-models",modelIdOrAttributes:i.id,collectionAttributeName:"photoPageList",fetchParams:{}},this.publicOnlyPhotos&&(e.modelIdOrAttributes+="-public",e.fetchParams.filter=1),this.safeOnlyPhotos&&(e.modelIdOrAttributes+="-safe",e.fetchParams.moderationFilter=1),this.loadPhotoList(e),this.toggleTitleBar(i.title,"set")):0===this.get("photostreamModel").getValue("totalItems")?this.get("hasUploadCapabilities")?(this.toggleUploader(),this.hideTitleBar()):this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"},"empty",!1)):(e={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList",fetchParams:{}},this.safeOnlyPhotos&&(e.modelIdOrAttributes+="-safe",e.fetchParams.safeSearch="true"),this.publicOnlyPhotos&&(e.modelIdOrAttributes+="-public",e.fetchParams.viewAs="public"),this.loadPhotoList(e,!1)),this},toggleUploader:function(){this.get("hasUploadCapabilities")&&(this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-upload").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"))},toggleSelector:function(){this.get("hasUploadCapabilities")&&this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").removeClass("is-hiding")},toggleSearchListsSelector:function(){this.get("hasUploadCapabilities")&&this.get("container").one(".photo-selector-upload").addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("container").one(".photo-selector-photos-container").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").removeClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").addClass("is-hiding")},toggleGroupSelector:function(){var t=this.get("container").one(".photo-selector-upload");t&&t.addClass("is-hiding"),this.get("container").one(".photo-selector-photos-wrapper").addClass("is-hiding"),this.photoListView&&this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").empty().append(this.templates("flickr-balls")({})),this.get("container").one(".photo-selector-search-lists-wrapper").addClass("is-hiding"),this.get("groupId")&&this.get("container").one(".group-photo-selector-photos-wrapper").removeClass("is-hiding")},toggleTitleBar:function(e,o,i){var s=this.get("container"),r=s.one(".photo-selector-title-bar"),a=r.one(".back-to-list"),l="";void 0===i&&(i=!0),"search"===o&&e&&(e='"'+e+'"'),"set"===o?l=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_ALBUM_LIST"}):"search"===o&&(l=this.intlMessage({intlName:"common.PHOTO_SELECTOR_BACK_TO_SEARCH_LIST"})),i?a.removeClass("hidden"):a.addClass("hidden"),a.one(".back-to-list-text").set("text",l),r.one(".title").set("text",t.Handlebars.helpers.truncate(e,120)),r.removeClass("hidden"),s.one(".photo-selector-photos-wrapper").addClass("showing-title"),s.one(".photo-selector-search-lists-wrapper").addClass("showing-title"),this.get("groupId")&&s.one(".group-photo-selector-photos-wrapper").addClass("showing-title")},hideTitleBar:function(){var t=this.get("container");t.one(".photo-selector-title-bar").addClass("hidden"),t.one(".photo-selector-photos-wrapper").removeClass("showing-title"),this.get("groupId")&&t.one(".group-photo-selector-photos-wrapper").removeClass("showing-title")},onParentViewEvent:function(e,o){var i,s,r,a=o[1],l={},n=this.get("searchable"),h=this.get("container").one(".no-results");if("navigation"===o[0])if("upload"===(i=a.target._node.dataset.value))this.get("hasUploadCapabilities")&&(this.toggleUploader(),this.hideTitleBar()),this.get("fileDragDrop")?this.get("fileDragDrop").reset():this.canUpload&&(this.set("fileDragDrop",new t.HtmlFileDragDrop({dropZone:".photo-selector-upload > .drop-zone"})),this.get("fileDragDrop").on("drop",this.handleFileDrop,this));else{if(this.get("hasUploadCapabilities")&&this.toggleSelector(),"group"===i)s={registryName:"group-pool-models",modelIdOrAttributes:this.get("groupId"),collectionAttributeName:"photoPageList"},this.publicOnlyGroups&&(s.fetchParams={privacyFilter:1},s.modelIdOrAttributes+="-public"),this.toggleGroupSelector(),this.loadGroupPhotoList(s);else if("photostream"===i){if(0===this.get("photostreamModel").getValue("totalItems"))return h&&h.remove(),void(this.get("hasUploadCapabilities")?(this.toggleUploader(),this.hideTitleBar()):this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_EMPTY_PUBLIC_PHOTOS"},"empty",!1)));s={registryName:"photostream-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"photoPageList",fetchParams:{}},this.safeOnlyPhotos&&(s.modelIdOrAttributes+="-safe",s.fetchParams.safeSearch="true"),this.publicOnlyPhotos&&(s.modelIdOrAttributes+="-public",s.fetchParams.viewAs="public"),this.loadPhotoList(s)}else if("sets"===i){if(0===this.get("setsModel").getValue("totalItems")){var p=this.get("container").one(".photo-list-view");return h&&h.remove(),this.toggleTitleBar(this.intlMessage({intlName:"common.PHOTO_SELECTOR_NO_ALBUMS"},"empty",!1)),void p.empty()}s={registryName:"sets-models",modelIdOrAttributes:this.appContext.getViewer().nsid,collectionAttributeName:"albumsList"},this.loadSetsPhotoList(s)}else"gallery"===i?(s={registryName:"gallery-info-models",modelIdOrAttributes:this.get("galleryId"),collectionAttributeName:"photoList"},this.loadPhotoList(s)):"galleryFaves"===i?(s={registryName:"gallery-faves-models",modelIdOrAttributes:this.get("defaultSelected").id,collectionAttributeName:"photoList",fetchParams:{galleryId:this.get("galleryId")}},this.loadPhotoList(s)):this.loadSelectionPhotoList();this.hideTitleBar()}else if("search"===o[0]){if(r=new t.SearchUrl(a.apiParams,this.appContext),this.toggleSearchListsSelector(),n.yours){if(this.searchUrlYourPhotos=new t.SearchUrl(a.apiParams,this.appContext),o[1].contextSearch)if("group"===o[1].contextSearch)this.searchUrlYourPhotos.setAPIParam("group_id",this.get("groupId"));else this.searchUrlYourPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid);else this.searchUrlYourPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid);n.contacts||n.everyone?(l.listId="yours",l.photoListContainerSelector=".photo-selector-search-list-yours .photo-selector-search-list-container",l.parentContainerSelector=".photo-selector-search-list-yours",l.maxNumRows=1,l.alwaysDisplayOrphans=!0,l.searchUrl=this.searchUrlYourPhotos,l.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams()}},this.publicOnlyPhotos&&(s.fetchParams.privacyFilter=1),this.loadSearchPhotoList(l)):(this.toggleSelector(),s={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlYourPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlYourPhotos.getAPIParams(),additionalExtras:["o_dims"]}},this.publicOnlyPhotos&&(s.fetchParams.privacyFilter=1),this.loadPhotoList(s,!0))}n.contacts&&(this.searchUrlContactsPhotos=new t.SearchUrl(a.apiParams,this.appContext),this.searchUrlContactsPhotos.setAPIParam("user_id",this.appContext.getViewer().nsid),this.searchUrlContactsPhotos.setAPIParam("contacts","all"),l.listId="contacts",l.photoListContainerSelector=".photo-selector-search-list-contacts .photo-selector-search-list-container",l.parentContainerSelector=".photo-selector-search-list-contacts",l.maxNumRows=1,l.alwaysDisplayOrphans=!0,l.searchUrl=this.searchUrlContactsPhotos,l.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:this.searchUrlContactsPhotos.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlContactsPhotos.getAPIParams()}},this.loadSearchPhotoList(l)),n.everyone&&(this.searchUrlEveryonePhotos=new t.SearchUrl(a.apiParams,this.appContext),l.listId="everyone",l.photoListContainerSelector=".photo-selector-search-list-everyone .photo-selector-search-list-container",l.parentContainerSelector=".photo-selector-search-list-everyone",l.maxNumRows=1,l.alwaysDisplayOrphans=!0,l.searchUrl=this.searchUrlEveryonePhotos,l.modelParams={registryName:"search-photos-lite-models",modelIdOrAttributes:a.id,collectionAttributeName:"photos",fetchParams:{apiParams:this.searchUrlEveryonePhotos.getAPIParams()}},this.loadSearchPhotoList(l)),this.toggleTitleBar(r.getAPIParams().text,"search",!1)}},handleSubviewEvent:function(e){var o,i,s;return"selectPhotoFromPhotoList"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.id)},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.enableMultiSelect&&this.hasReachMultiSelectLimit()||this.addPhotoToSelection(t.photoModel.id,t.photoModel)}.bind(this))):"unselectPhotoFromPhotoList"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.id)},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.removePhotoFromSelection(t.photoModel.id,t.photoModel)}.bind(this))):"selection:remove"===e.eventName?(o={photoModel:this.appContext.getModel("photo-models",e.model.getValue("id"))},new t.FlickrPromise(o).then(function(t){t.photoModel.isOwner&&this.set("photoSource",this.get("photoSourceOwnImage")),this.removePhotoFromSelection(t.photoModel.id,t.photoModel,!0)}.bind(this))):void("selectSetFromPhotoList"===e.eventName?(i={registryName:"set-models",modelIdOrAttributes:e.id,collectionAttributeName:"photoPageList",fetchParams:{}},this.publicOnlyPhotos&&(i.modelIdOrAttributes+="-public",i.fetchParams.filter=1),this.safeOnlyPhotos&&(i.modelIdOrAttributes+="-safe",i.fetchParams.moderationFilter=1),this.loadPhotoList(i,!1),this.toggleTitleBar(e.title,"set")):e.details&&"viewEntireSearchList"===e.details[0]&&(i={registryName:"search-photos-lite-models",modelIdOrAttributes:e.details[1].searchUrl.getId(),collectionAttributeName:"photos",fetchParams:{apiParams:e.details[1].searchUrl.getAPIParams()}},this.publicOnlyPhotos&&(i.fetchParams.privacyFilter=1),this.toggleSelector(),this.loadPhotoList(i),s="search.YOUR_PHOTOS","contacts"===e.details[1].list?s="search.FROM_YOUR_CONTACTS":"everyone"===e.details[1].list&&(s="search.EVERYONES_PHOTOS"),s=this.intlMessage({intlName:s}),this.toggleTitleBar(s+": "+e.details[1].searchUrl.getAPIParams().text,"search")))},handleClick:function(t){var e=t.target;this.isUploading||(e.ancestor(".back-to-list",!0)?this.fire("subviewViewEvent","backToList"):e.ancestor(".simulate-file-select",!0)&&(t.halt(),this.get("container").one(".file-select").set("value",""),this.get("container").one(".file-select").getDOMNode().click()))},handleSelectPhoto:function(e){var o;if(o={photoModel:this.appContext.getModel("photo-models",e.getData("photo-id"))},!e.hasClass("invalid"))return this.set("photoSource",this.get("photoSourceOwnImage")),new t.FlickrPromise(o).then(function(t){this.addPhotoToSelection(t.photoModel.id,t.photoModel)}.bind(this))},hasReachMultiSelectLimit:function(){return this.get("selectionModel").getValue("photos").size()===this.multiSelectLimit},addPhotoToSelection:function(e,o){if(null===e)this.set("selected",null),t.fire("photoSelector:unselected");else if(e&&this.enableMultiSelect){var i=this.get("selectionModel").getValue("photos");this.hasReachMultiSelectLimit()||i.find(o)||(i.push(o),t.fire("photoSelector:selected",{hasWarning:!1,photoId:e}),this.updateSelectCountText(i.size()))}else e&&(this.set("selected",e),t.fire("photoSelector:selected",{hasWarning:!1,photoId:e}))},updateSelectCountText:function(e){var o=this.multiSelectLimit-e;t.fire("photoSelector:updateCount",{count:o})},removePhotoFromSelection:function(e,o,i){var s=this.get("selectionModel").getValue("photos");s.find(o)&&(s.removeFromList(e)&&(t.fire("photoSelector:unselected",{hasWarning:!1,photoId:e,wasLastPhotoSelected:0===s.size()}),this.updateSelectCountText(s.size()),i&&this.loadSelectionPhotoList()))},handlePhotoSetSelector:function(t){var e;this.get("hasUploadCapabilities")&&this.toggleSelector(),e={registryName:"set-models",modelIdOrAttributes:this.publicOnlyPhotos?t+"-public":t,collectionAttributeName:"photoPageList"},this.publicOnlyPhotos&&(e.fetchParams={filter:1}),this.loadPhotoList(e)},handlePhotoUploaded:function(t){this.appContext.getModelRegistry("photostream-models").then(function(e){e.attributeSearch({normalizedId:this.appContext.getViewer().nsid},!0).forEach((function(t){e.remove(t)})),this.addPhotoToSelection(t.id,t),this.fire("actionClick",t),this.resetUploader()}.bind(this),function(t){this.appContext.err(t)}.bind(this))},handleFileSelect:function(t){var e;(e=t.target.getDOMNode().files[0])&&e.name&&this.uploadFile(e)},pollTicket:function(e){if(this.uploadTimer){if(t.moment().diff(this.uploadTimer,"seconds")>this.get("maxUploadTimeAllowed"))return this.showUploadError("GENERIC")}else this.uploadTimer=t.moment();this.appContext.callAPI("flickr.photos.upload.checkTickets",{tickets:e}).then(function(t){var o;t&&t.stat&&("ok"!==t.stat&&this.showUploadError("GENERIC"),t.uploader&&t.uploader.ticket instanceof Array&&(o=t.uploader.ticket[0])&&o.id===e&&(1===o.complete?this.appContext.getModel("photo-models",o.photoid).then(this.handlePhotoUploaded.bind(this),(function(t){this.showUploadError("GENERIC")})):2===o.complete?this.showUploadError("FILE_TYPE"):setTimeout(function(){this.pollTicket(e)}.bind(this),1e3)))}.bind(this),function(t){this.showUploadError("GENERIC")}.bind(this))},resetUploader:function(){this.clearUploadError(),this.get("container").one(".drop-zone").removeClass("uploading"),this.get("container").removeClass("uploading"),this.isUploading=!1,this.uploadTimer=void 0},uploadFile:function(e){var o,s,r,a=new FormData,l=t.config.flickr.api.hostname_client_upload;this.clearUploadError(),this.get("container").one(".drop-zone").addClass("uploading"),this.get("container").addClass("uploading"),this.isUploading=!0,a.append("api_key",t.SiteKey.getKey()),a.append("csrf",t.config.flickr.csrf.token),a.append("photo",e,e.name),a.append("async","1"),a.append("is_public","0"),a.append("is_friend","0"),a.append("is_family","0"),a.append("content_type","1"),(o=this._imgFileXhr=new XMLHttpRequest).open("POST",l,!0),o.withCredentials=!0,s=function(t){var e="object"==typeof t?t.target.statusText:t+"";i.error("Error during upload",{statusText:e}),this.resetUploader(),this.showUploadError("GENERIC")},r=function(e){var o,i,r,a;try{i=(a=t.one(e.currentTarget.responseXML)).one("rsp").getAttribute("stat")}catch(t){i="",o=""}return"ok"!==i?s((i||"empty")+": "+(o||"no message")):(r=a.one("ticketid").get("text"),this.pollTicket(r))},o.addEventListener("load",r.bind(this)),o.addEventListener("error",s.bind(this)),o.send(a)},clearUploadError:function(){this.get("container").one(".upload-error").setHTML("")},showUploadError:function(t){this.resetUploader(),this.get("container").one(".upload-error").setHTML(this.intlMessage({intlName:this.get("errorMessages")[t]})),this.get("fileDragDrop").showError()},handleFileDrop:function(t){this.isUploading||(t instanceof Error?this.showUploadError(t.message):this.uploadFile(t))},destructor:function(){this.photoListView&&this.photoListView.destroy()}},{ATTRS:{maxUploadTimeAllowed:{readOnly:!0,value:20},errorMessages:{readOnly:!0,value:{GENERIC:"common.PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC",FILE_TYPE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE",FILE_SIZE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE",FILE_COUNT:"common.PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT",LOW_QUALITY:"common.PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY",COLOR_SPACE:"common.PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE"}},photoSourceOwnImage:{readOnly:!0,value:1},hasUploadCapabilities:{value:!0},photoListViewName:{value:"photo-selector-photolist-view"},limitedRowsPhotoListViewName:{value:"photo-selector-limited-rows-photolist-view"},searchable:{value:{yours:!0,contacts:!0,everyone:!0}},interactionViewName:{value:"photo-selector-photolist-interaction-view"},setsInteractionViewName:{value:"photo-selector-sets-photolist-interaction-view"},itemFilterFunction:{value:function(t){return!t.getValue("isVideo")}},defaultSelected:{value:!1},selected:{},groupId:{},galleryId:{}}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","flickr-api","html-file-dragdrop","hermes-template-photo-selector","photo-selector-photolist-view","photo-selector-limited-rows-photolist-view","photo-selector-photolist-interaction-view","photo-selector-sets-photolist-interaction-view","user-limits-helper","site-key","moment"],optionalRequires:["hermes-core"],optional:["search-photos-lite-models"],langBundles:["common","wallart","search","groups","profile","upload-blocking"]});YUI.add("hermes-lang-wallart_de-de",(function(e,n){e.Intl.add("hermes/wallart","de-DE",{WALL_ART:[{type:0,value:"Wandschmuck"}],YOU_CANCELLED_THIS_ITEM_ON_DATE:[{type:0,value:"Du hast die Bestellung dieses Artikels am "},{type:3,value:"date",style:"monthYear"},{type:0,value:" abgebrochen."}],YOU_ORDERED_THIS_ITEM_ON_DATE:[{type:0,value:"Du hast diesen Artikel am "},{type:3,value:"date",style:"monthYear"},{type:0,value:" bestellt."}],RETURN_TO_YOUR_ORDER_HISTORY:[{type:0,value:"Zu deiner Bestellhistorie zurückkehren"}],SELECT_A_PHOTO:[{type:0,value:"Foto auswählen"}],SELECT_PRODUCT:[{type:0,value:"Produkt auswählen"}],PHOTO_MOUNT:[{type:0,value:"Platte"}],CANVAS:[{type:0,value:"Leinwand"}],CANVAS_WRAP:[{type:0,value:"Leinwand"}],PREMIUM_LUSTRE:[{type:0,value:"Premium Lustre"}],GLOSSY:[{type:0,value:"Glänzend"}],MATTE:[{type:0,value:"Matt"}],SIZE:[{type:0,value:"Größe"}],CHECKOUT:[{type:0,value:"Kasse"}],REORDER:[{type:0,value:"Neu anordnen"}],TOTAL:[{type:0,value:"Gesamt"}],UPLOAD:[{type:0,value:"Hochladen"}],CURATED_COLLECTIONS:[{type:0,value:"Zusammengestellte Sammlungen"}],CREATIVE_COMMONS:[{type:0,value:"Creative Commons"}],NASA:[{type:0,value:"NASA"}],ABSTRACT:[{type:0,value:"Abstrakt"}],ANIMALS:[{type:0,value:"Tiere"}],PATTERNS:[{type:0,value:"Muster"}],FOOD:[{type:0,value:"Essen"}],LANDSCAPES:[{type:0,value:"Landschaften"}],TRAVEL:[{type:0,value:"Reisen"}],MY_ALBUMS:[{type:0,value:"Meine Alben"}],PRODUCT_DROPUP_CANVAS:[{type:0,value:"Künstlerleinwand um 1,25-Zoll-Holzrahmen"}],PRODUCT_DROPUP_MOUNTED:[{type:0,value:"Archiv-Fotopapier mit 1-Zoll-Rand mit Holzstruktur"}],MATERIAL_DROPUP_LUSTRE:[{type:0,value:"Professionelles Crystal Archive Papier – Premium Lustre"}],MATERIAL_DROPUP_GLOSSY:[{type:0,value:"Professionelles Crystal Archive Papier – Glänzend"}],MATERIAL_DROPUP_MATTE:[{type:0,value:"Professionelles Crystal Archive Papier – Matt"}],SIZES_MODAL_SIZES_NOT_AVAILABLE:[{type:0,value:"Aufgrund der Auflösung des Fotos sind einige Größen nicht verfügbar. Weitere Infos."}],MOUNTED_SAFE_AREA:[{type:0,value:"Der Bereich außerhalb der durchgehenden Linie wird nicht gedruckt. <br>Innerhalb der Linie ist der sichere Bereich."}],CANVAS_SAFE_AREA:[{type:0,value:"Der Bereich außerhalb der gepunkteten Linie wird auf den Umschlag gedruckt. <br>Der Bereich innerhalb der Linie wird auf die Vorderseite gedruckt."}],SAVING:[{type:0,value:"Wird gespeichert..."}],SAVED:[{type:0,value:"Alle Änderungen wurden gespeichert"}],WITH_CODE:[{type:0,value:"mit Code:"}],FREE_SHIPPING_WITH_CODE:[{type:0,value:"Kostenloser Versand mit Code:"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_8X10:[{type:0,value:"8 x 10 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_10X8:[{type:0,value:"10 x 8 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_12X12:[{type:0,value:"12 x 12 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_11X14:[{type:0,value:"11 x 14 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_14X11:[{type:0,value:"14 x 11 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_16X20:[{type:0,value:"16 x 20 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X16:[{type:0,value:"20 x 16 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X24:[{type:0,value:"20 x 24 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_24X20:[{type:0,value:"24 x 20 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_20X30:[{type:0,value:"20 x 30 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_1_30X20:[{type:0,value:"30 x 20 Zoll Leinwand"}],PRODUCT_DESCRIPTION_CANVAS_PART_2:[{type:0,value:"1,25 Zoll Keilrahmenleisten<br>Stoßfester Rahmen<br>Einschließlich Zubehör zur Aufhängung"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_8X10:[{type:0,value:"8 x 10 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_10X8:[{type:0,value:"10 x 8 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_12X12:[{type:0,value:"12 x 12 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_11X14:[{type:0,value:"11 x 14 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_14X11:[{type:0,value:"14 x 11 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_16X20:[{type:0,value:"16 x 20 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_20X16:[{type:0,value:"20 x 16 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_20X30:[{type:0,value:"20 x 30 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_1_30X20:[{type:0,value:"30 x 20 Zoll gerahmt"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE:[{type:0,value:"Oberfläche in Matt<br>1-Zoll-Rand mit Holzstruktur<br>Vorgebohrte Löcher zur einfachen Aufhängung"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY:[{type:0,value:"Oberfläche in Glänzend<br>1-Zoll-Rand mit Holzstruktur<br>Vorgebohrte Löcher zur einfachen Aufhängung"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE:[{type:0,value:"Oberfläche in Premium Lustre<br>1-Zoll-Rand mit Holzstruktur<br>Vorgebohrte Löcher zur einfachen Aufhängung"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_KICKSTAND:[{type:0,value:"Oberfläche in Matt<br>1-Zoll-Rand mit Holzstruktur<br>Vorgebohrte Löcher zur einfachen Aufhängung und Ständer zum Hinstellen"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_KICKSTAND:[{type:0,value:"Oberfläche in Glänzend<br>1-Zoll-Rand mit Holzstruktur<br>Vorgebohrte Löcher zur einfachen Aufhängung und Ständer zum Hinstellen"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_KICKSTAND:[{type:0,value:"Oberfläche in Premium Lustre<br>1-Zoll-Rand mit Holzstruktur<br>Vorgebohrte Löcher zur einfachen Aufhängung und Ständer zum Hinstellen"}],PHOTO_TOO_SMALL_IN_SELECTED_SIZE:[{type:0,value:'Das Foto ist zu klein, um in der ausgewählten Größe gedruckt zu werden. Wir finden die am besten geeignete Größe automatisch für dich. <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567">Weitere Infos.</a>'}],BAD_SIZES:[{type:0,value:'Aufgrund der Auflösung des Fotos sind einige Größen nicht verfügbar. <a target="_blank" href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567">Weitere Infos</a>'}],NOT_AVAILABLE:[{type:0,value:"Aufgrund der Auflösung des Fotos nicht verfügbar"}],UPLOADR_ERROR_MESSAGE_GENERIC:[{type:0,value:"Beim Hochladen des Fotos ist ein Problem aufgetreten. Versuche es erneut."}],UPLOADR_ERROR_MESSAGE_FILE_TYPE:[{type:0,value:"Dieses Foto scheint ein ungültiges Dateiformat zu haben. Lade ein Foto im Format PNG oder JPG hoch."}],UPLOADR_ERROR_MESSAGE_FILE_SIZE:[{type:0,value:"Dieses Fotos scheint zu groß zum Hochladen zu sein. Die größte Fotogröße zum Hochladen ist 250 MB."}],UPLOADR_ERROR_MESSAGE_FILE_COUNT:[{type:0,value:"Wähle nur ein Foto zum Hochladen aus."}],UPLOADR_ERROR_MESSAGE_LOW_QUALITY:[{type:0,value:'Dieses Foto scheint die Mindestanforderungen für den Druck nicht zu erfüllen. Bitte wähle ein Foto, das eine Mindestauflösung von 975 &times; 825 Pixel hat. Weitere Infos zu den <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">Anforderungen</a> an Druckprodukte.'}],UPLOADR_ERROR_MESSAGE_COLOR_SPACE:[{type:0,value:'Wir können leider keine Fotos mit CMYK- oder ProPhoto RGB-Farbraum drucken. Wir empfehlen Fotos mit sRGB-Farbraum zu verwenden. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">Weitere Infos</a>.'}],DRAG_DROP_TO_UPLOAD:[{type:0,value:'Lade das Foto per Drag&Drop hoch oder <a href="#" class="simulate-file-select">navigiere</a> zu dem Foto.'}],PHOTOS_UPLOADED_AS_PRIVATE:[{type:0,value:'Hierhin hochgeladene Fotos werden privat zu deinem <a href="/me/">Fotostream</a> hinzugefügt.'}],LOW_QUALITY_ZOOM_HANDLE_TOOLTIP_CANVAS:[{type:0,value:"Dieser Zoom-Grad führt zu einer schlechten Druckqualität. Bitte zoome heraus, wenn du das Foto kaufen möchtest."}],LOW_QUALITY_ZOOM_HANDLE_TOOLTIP_MOUNTED:[{type:0,value:"Dieser Zoom-Grad führt zu einer schlechten Druckqualität. Bitte zoome heraus, wenn du das Foto kaufen möchtest."}],INITIAL_DIALOG_CANVAS_DISABLED:[{type:0,value:"Aufgrund der niedrigen Auflösung ist für dieses Foto kein Leinwanddruck möglich. Für einen Leinwanddruck ist eine Mindestauflösung von 975px x 825px erforderlich."}],INITIAL_DIALOG_MOUNTED_DISABLED:[{type:0,value:"Aufgrund der niedrigen Auflösung ist für dieses Foto kein Druck mit Rahmung möglich. Für den Druck mit Rahmung ist eine Mindestauflösung von 1000px x 800px erforderlich."}],GO_BACK:[{type:0,value:"Gehe zurück"}],PHOTO_NOT_LARGE_ENOUGH_TO_ROTATE:[{type:0,value:"Dieses Foto ist nicht groß genug, um es in eine andere Ausrichtung zu drehen."}],CHANGE_SIZE:[{type:0,value:"Größe ändern"}],CHANGE_PHOTO:[{type:0,value:"Foto ändern"}],CREATIONS:[{type:0,value:"Kreationen"}],VIEW_ORDER_HISTORY:[{type:0,value:"Bestellhistorie anzeigen"}],COMPLETED:[{type:0,value:"Fertiggestellt"}],IN_PROGRESS:[{type:0,value:"In Bearbeitung"}],CREATE_NEW:[{type:0,value:"Neu erstellen"}],CREATIONS_EMPTY_WALLART:[{type:0,value:"Keine Wall Art vorhanden"}],CREATIONS_EMPTY_BOOKS:[{type:0,value:"Keine Fotobücher vorhanden"}],CREATIONS_EMPTY_TERTIARY:[{type:0,value:'Werke in Bearbeitung und fertiggestellte Arbeiten werden hier ausgestellt.<br>Weitere Infos zu <a href="/create" title="">Wall Art</a> und <a href="/create" title="">Fotobüchern</a>.'}],CREATIONS_NOT_ABLE_DELETE:[{type:0,value:"Diese Arbeit konnte nicht gelöscht werden. Bitte versuche es später noch einmal."}],PHOTO_FOR_WALLART_DELETED:[{type:0,value:"Das Foto für diese Wall Art wurde gelöscht"}],DELETE_THIS_WALLART:[{type:0,value:"Diese Wall Art löschen"}],REORDER_THIS_WALLART:[{type:0,value:"Diese Wall Art neu anordnen"}],EDIT_THIS_WALLART:[{type:0,value:"Diese Wall Art bearbeiten"}],CHANGE_PAPER:[{type:0,value:"Papier ändern"}],MATERIAL_DROPUP_LUSTRE_NEW:[{type:0,value:"Durch die perlmuttartige Oberfläche erscheinen deine Fotos mit dem Seidenglanzpapier besonders lebensecht. Du profitierst von der optimalen Farbsättigung von Glanzpapier bei gleichzeitiger Unempfindlichkeit gegen Fingerabdrücke wie bei mattem Papier."}],MATERIAL_DROPUP_GLOSSY_NEW:[{type:0,value:"Eine extrem glatte und glänzende Oberfläche mit kontrastreichen Farben für klare und gestochen scharfe Fotos. Ideal geeignet für Reflexionsaufnahmen von Wasser, Metall oder dem Himmel."}],MATERIAL_DROPUP_MATTE_NEW:[{type:0,value:"Eine elegante matte Oberfläche mit weniger Kontrasten für eine verbesserte Fotostruktur. Unempfindlich gegen Fingerabdrücke und optimal geeignet für Schwarzweiß-Fotos."}],ON_SALE:[{type:0,value:"Im Angebot"}],PRODUCT_DESCRIPTION_CANVAS_PART_2_PREVIEW:[{type:0,value:"<span>1,25-Zoll-Keilrahmenleisten</span><span>Stoßfester Rahmen</span><span>Einschließlich Zubehör zur Aufhängung</span>"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_PREVIEW:[{type:0,value:"<span>Matte Oberfläche</span><span>1 Zoll dicker Rand mit Holzstruktur</span><span>Vorgebohrte Löcher zur einfachen Aufhängung</span>"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_PREVIEW:[{type:0,value:"<span>Glänzende Oberfläche</span><span>1 Zoll dicker Rand mit Holzstruktur</span><span>Vorgebohrte Löcher zur einfachen Aufhängung</span>"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_PREVIEW:[{type:0,value:"<span>Oberfläche in Premium Lustre</span><span>1 Zoll dicker Rand mit Holzstruktur</span><span>Vorgebohrte Löcher zur einfachen Aufhängung</span>"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_MATTE_KICKSTAND_PREVIEW:[{type:0,value:"<span>Matte Oberfläche</span><span>1 dicker Zoll Rand mit Holzstruktur</span><span>Vorgebohrte Löcher zur einfachen Aufhängung und Ständer zur Aufstellung</span>"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_GLOSSY_KICKSTAND_PREVIEW:[{type:0,value:"<span>Glänzende Oberfläche</span><span>1 Zoll dicker Rand mit Holzstruktur</span><span>Vorgebohrte Löcher zur einfachen Aufhängung und Ständer zur Aufstellung</span>"}],PRODUCT_DESCRIPTION_MOUNTED_PART_2_LUSTRE_KICKSTAND_PREVIEW:[{type:0,value:"<span>Oberfläche in Premium Lustre</span><span>1 Zoll dicker Rand mit Holzstruktur</span><span>Vorgebohrte Löcher zur einfachen Aufhängung und Ständer zur Aufstellung</span>"}],PHOTO_BOOK:[{type:0,value:"Fotobuch"}],GLOSSY_HARDCOVER_BOOK_PREMIUM_LUSTRE_PAPER:[{type:0,value:"Hochglanz-Hardcover-Buch im Format 11 x 8,5 Zoll mit hochwertigem Hochglanzpapier"}],LOW_QUALITY_WARNING:[{type:0,value:"Das Foto kann nicht gedruckt werden, da die Auflösung zu gering ist."}],INVALID_COLORSPACE_WARNING:[{type:0,value:"Das Foto kann nicht gedruckt werden, da dessen Farbraum nicht unterstützt wird."}],LOW_QUALITY_TYPE_WARNING:[{type:0,value:"Das Foto kann nicht auf diese Fotoleinwand gedruckt werden, da die Auflösung zu gering ist."}],NO_COMPLETED_ORDER:[{type:0,value:"Keine abgeschlossenen Bestellungen."}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-lang-upload-blocking_de-de",(function(e,t){e.Intl.add("hermes/upload-blocking","de-DE",{UPLOADS_LOCKED_SOON:[{type:0,value:"Weitere Uploads sind bald nicht mehr möglich."}],FREE_ACCOUNTS_NO_LONGER_UPLOAD:[{type:0,value:"Ab dem 8. Januar können Nutzer von kostenlosen Flickr-Accounts, die mehr als "},{type:1,value:"limitCount"},{type:0,value:" Fotos enthalten, keine neuen Fotos mehr hochladen."}],LEARN_MORE_ABOUT_CHANGES_HERE:[{type:0,value:"Mehr über diese Änderungen erfährst du hier."}],UPGRADE_TO_GET_UNLIMITED:[{type:0,value:"Steige für unbegrenzte Uploads auf die Pro-Version um. Mit dem Code "},{type:1,value:"couponCode"},{type:0,value:" erhältst du "},{type:1,value:"percentOff"},{type:0,value:" % Rabatt."}],FREE_ACCOUNTS_NO_LONGER_UPLOAD_2:[{type:0,value:"Ab dem 8. Januar 2019 können Nutzer von kostenlosen Flickr-Accounts, die mehr als "},{type:1,value:"limitCount"},{type:0,value:" Fotos enthalten, keine neuen Fotos mehr hochladen. Ab dem 5. Februar 2019 können Elemente, die über das Limit hinausgehen, gelöscht werden."}],FREE_ACCOUNTS_NO_LONGER_UPLOAD_BY_1_8_2019:[{type:0,value:"Ab dem 8. Januar können Nutzer von kostenlosen Flickr-Accounts, die mehr als "},{type:1,value:"limitCount"},{type:0,value:" Fotos und Videos enthalten, keine neuen Inhalte mehr hochladen."}],UPGRADE_TO_GET_UNLIMITED_BY_1_8_2019:[{type:0,value:"Für unbegrenzte Uploads gibt es unsere Pro-Version und mit dem Code "},{type:1,value:"couponCode"},{type:0,value:" zudem "},{type:1,value:"percentOff"},{type:0,value:" % Rabatt! (Rabatt gültig bis zum 8. Januar 2019)"}],OVER_UPLOAD_LIMIT_HEAD:[{type:0,value:"Deine Fotos könnten in Kürze gelöscht werden!"}],OVER_UPLOAD_LIMIT_COPY:[{type:0,value:'Der kostenlose Flickr-Account ist <a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank"> beschränkt auf '},{type:1,value:"limitCount"},{type:0,value:'</a> Fotos und Videos. Deine Uploads sind jetzt gesperrt. Ab dem 5. Februar besteht für kostenlose Accounts die Möglichkeit, dass die ältesten Elemente, die das Limit überschreiten, gelöscht werden. Um Uploads zu entsperren und deine Fotos und Videos zu schützen, musst du Elemente entfernen, bis das Limit nicht mehr überschritten wird oder ein <a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'">Upgrade auf Flickr Pro</a> durchführen, um unbegrenzten Speicherplatz zu erhalten.'}],AT_UPLOAD_LIMIT_HEAD:[{type:0,value:"Deine Uploads sind jetzt gesperrt."}],AT_UPLOAD_LIMIT_COPY:[{type:0,value:'Der kostenlose Flickr-Account ist <a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank"> beschränkt auf '},{type:1,value:"limitCount"},{type:0,value:'</a> Fotos und Videos. Ab dem 5. Februar besteht für kostenlose Accounts die Möglichkeit, dass die ältesten Elemente, die das Limit überschreiten, gelöscht werden. Elemente mit „Creative Commons“-Lizenz (oder sonstigen Arten kostenloser Lizenzen), die vor dem 1. November 2018 vergeben wurden, werden jedoch nicht gelöscht. Um neue Fotos und Videos hochladen zu können, musst du Elemente entfernen, bis das Limit nicht mehr überschritten wird oder ein <a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'">Upgrade auf Flickr Pro</a> durchführen, um unbegrenzte Uploads zu erhalten.'}],UPLOADS_LOCKED_SOON_HEAD:[{type:0,value:"Weitere Uploads sind bald nicht mehr möglich."}],UPLOADS_LOCKED_SOON_COPY:[{type:0,value:'Du näherst dich dem Limit von <a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">'},{type:1,value:"limitCount"},{type:0,value:" Elementen für kostenlose Flickr-Accounts</a>. Um mehr als "},{type:1,value:"limitCount"},{type:0,value:' Fotos oder Videos hochladen zu können, musst du <a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'">ein Upgrade auf Flickr Pro</a> durchführen und verfügst dann über unbeschränkte Uploads.'}],YOU_CAN_UPLOAD_COUNT_MORE:[{type:6,value:"photoCount",options:{one:{value:[{type:0,value:"Du kannst "},{type:1,value:"countString"},{type:0,value:" weiteres Foto oder Video hochladen."}]},other:{value:[{type:0,value:"Du kannst "},{type:1,value:"countString"},{type:0,value:" weitere Fotos oder Videos hochladen."}]}},offset:0,pluralType:"cardinal"}],MORE_THAN_LIMIT_ITEMS_TO_UPLOAD:[{type:6,value:"photoCount",options:{one:{value:[{type:0,value:"Du versuchst, mehr als "},{type:1,value:"countString"},{type:0,value:" Element hochzuladen. Wir laden "},{type:1,value:"countString"},{type:0,value:" von deinem Batch hoch, beginnend am Anfang."}]},other:{value:[{type:0,value:"Du versuchst, mehr als "},{type:1,value:"countString"},{type:0,value:" Elemente hochzuladen. Wir laden "},{type:1,value:"countString"},{type:0,value:" von deinem Batch hoch, beginnend am Anfang."}]}},offset:0,pluralType:"cardinal"}],NEVERMIND:[{type:0,value:"Verwerfen"}],OK_GO_AHEAD:[{type:0,value:"Ok, weiter"}],UPLOAD_QUEUE_FULL:[{type:0,value:"Deine Upload-Warteschlange ist voll!"}],GET_PRO_FOR_UNLIMITED:[{type:0,value:"Für unbegrenzte Uploads auf Pro umsteigen"}],NOT_NOW:[{type:0,value:"Nicht jetzt"}],UPLOAD_YOUVE_REACHED_LIMIT_GET_PRO:[{type:0,value:"Du hast das Limit von 1.000 Uploads erreicht. Steige für unbegrenzte Uploads auf Pro um."}],YOUVE_REACHED_UPLOAD_LIMIT:[{type:0,value:"Du hast das Limit von "},{type:1,value:"limitCount"},{type:0,value:" Uploads erreicht."}],AT_UPLOAD_LIMIT_COPY_SHORT:[{type:0,value:'Der kostenlose Flickr-Account ist <a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">beschränkt auf '},{type:1,value:"limitCount"},{type:0,value:" Fotos oder Videos</a>. Um mehr als "},{type:1,value:"limitCount"},{type:0,value:" Elemente hochladen zu können, musst du ein Upgrade auf Flickr Pro durchführen, um unbegrenzten Speicherplatz zu erhalten."}],OVER_UPLOAD_LIMIT_COPY_SHORT:[{type:0,value:'Der kostenlose Flickr-Account ist <a href="'},{type:1,value:"limitedImagesUrl"},{type:0,value:'" target="_blank">beschränkt auf '},{type:1,value:"limitCount"},{type:0,value:" Fotos oder Videos</a>. Ab dem 5. Februar besteht die Möglichkeit, dass die ältesten Elemente, die das Limit überschreiten, gelöscht werden. Führe ein Upgrade auf Flickr Pro durch, um unbegrenzten Speicherplatz zu erhalten."}],PHOTO_EDITOR_REACHED_UPLOAD_LIMIT:[{type:0,value:"Du hast das Limit von "},{type:1,value:"limitCount"},{type:0,value:' Elementen erreicht. Führe bitte ein <a href="'},{type:1,value:"upgradeToProUrl"},{type:0,value:'" target="_blank">Upgrade auf Flickr Pro</a> durch, um eine neue Kopie zu speichern.'}],OVER_UPLOAD_LIMIT_EXTEND_HEAD:[{type:0,value:"Update: Verlängerung zur Einführung des Limits bei kostenlosen Flickr-Accounts."}],OVER_UPLOAD_LIMIT_EXTEND_COPY:[{type:0,value:"Wir verlängern den Stichtag zum Upgrade auf Flickr Pro für unbegrenzten Speicherplatz bzw. zum Entfernen deiner Fotos/Videos nach Überschreitung des neuen Limits von "},{type:1,value:"limit"},{type:0,value:" Elementen. Der neue Stichtag ist der "},{type:1,value:"dateNumber"},{type:0,value:". März 2019."}],ALL_YOUR_PHOTOS_MATTER:[{type:0,value:'<span class="all-text">ALLE</span> deine Fotos sind wichtig.'}],UPLOAD_LIMIT_EXTEND_MODAL_1:[{type:0,value:"Uns ist klar, dass das letzte Update, bei dem Foto- und Video-Uploads bei kostenlosen Flickr-Accounts auf "},{type:1,value:"limit"},{type:0,value:" beschränkt werden sollten, eine große Veränderung darstellt. Wir haben von vielen unserer Flick-Fotografen gehört, dass sie mehr Zeit brauchen, um ihre Fotos zu sichern."}],UPLOAD_LIMIT_EXTEND_MODAL_2:[{type:0,value:"Der neue Stichtag zum Upgrade auf Flickr Pro für unbegrenzten Speicherplatz oder zum Herunterladen von Fotos, um das neue Limit zu erfüllen, wird auf den "},{type:1,value:"dateNumber"},{type:0,value:". März 2019 verlängert."}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_FAVES_TAGS:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"views"},{type:0,value:" Ansichten, der "},{type:1,value:"faves"},{type:0,value:" Favoriten und der "},{type:1,value:"tags"},{type:0,value:" Tags, die mit diesen Fotos verbunden sind."}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"views"},{type:0,value:" Ansichten, die mit diesen Fotos verbunden sind."}],LIMIT_OVERLAY_STATS_DISAPPEAR_FAVES:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"faves"},{type:0,value:" Favoriten, die mit diesen Fotos verbunden sind."}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_FAVES:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"views"},{type:0,value:" Ansichten und der "},{type:1,value:"faves"},{type:0,value:" Favoriten, die mit diesen Fotos verbunden sind."}],LIMIT_OVERLAY_STATS_DISAPPEAR_TAGS:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"tags"},{type:0,value:" Tags, die mit diesen Fotos verbunden sind."}],LIMIT_OVERLAY_STATS_DISAPPEAR_VIEWS_TAGS:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"views"},{type:0,value:" Ansichten und der "},{type:1,value:"tags"},{type:0,value:" Tags, die mit diesen Fotos verbunden sind."}],LIMIT_OVERLAY_STATS_DISAPPEAR_FAVES_TAGS:[{type:0,value:"Dazu gehören einige der "},{type:1,value:"faves"},{type:0,value:" Favoriten und der "},{type:1,value:"tags"},{type:0,value:" Tags, die mit diesen Fotos verbunden sind."}],RIGHT_NOW_PHOTOS_AT_RISK:[{type:1,value:"count"},{type:0,value:" deiner Fotos könnten in Kürze gelöscht werden."}],TAKE_MOMENT_TO_PROTECT_PHOTOS:[{type:0,value:"Nimm dir bitte einen Moment Zeit, um die Fotos in deinem Account zu sichern."}],PROTECT_THESE_PHOTOS:[{type:0,value:"Diese Fotos sichern."}],SAVE_YOUR_PHOTOS:[{type:0,value:"Fotos speichern"}],CONTINUE_WITHOUT_SECURING_PHOTOS:[{type:0,value:"Weiter ohne "},{type:1,value:"count"},{type:0,value:" Fotos zu sichern."}],CONTINUE_WITHOUT_SECURING_PHOTOS_B:[{type:0,value:"Weiter ohne "},{type:1,value:"count"},{type:0,value:" Fotos zu sichern"}],MARK_PHOTOS_FOR_DELETION:[{type:0,value:"Nein, "},{type:1,value:"count"},{type:0,value:" zur Löschung markieren."}],MARK_PHOTOS_FOR_DELETION_B:[{type:0,value:"Nein, "},{type:1,value:"count"},{type:0,value:" zur Löschung markieren"}],DONT_REMIND_AGAIN:[{type:0,value:"Nicht noch einmal erinnern."}],DONT_REMIND_AGAIN_B:[{type:0,value:"Nicht noch einmal erinnern"}],CHOOSE_ABOVE_TO_CONTINUE:[{type:0,value:"Wähle eine der Optionen oben, um zu deinen Fotos zu gelangen."}],DID_YOU_KNOW_FLICKR_PRO:[{type:0,value:"Wusstest du, dass Flickr Pro mehr als nur unbegrenzten Speicherplatz bietet?"}],UPGRADE_YOU_ALSO_GET:[{type:0,value:"Die weiteren Vorteile sind werbefreies Surfen, Vorrang beim Support und exklusive Rabatte auf Fotobücher, Software und Ausrüstung von unseren Partnern."}],DONT_NEED_TO_BE_PROFESSIONAL:[{type:0,value:"Du musst kein Profi sein, um Flickr Pro-Mitglied zu werden."}],FLICKR_PROS_LOVE_PHOTOGRAPHY:[{type:0,value:"Flickr Pro-Mitglieder lieben die Fotografie, so einfach ist das. Bei Flickr Pro trittst du einer Community bei, deren Mitglieder genauso gern wie du Fotos teilen und entdecken und über sie reden."}],JOIN_FLICKR_PRO:[{type:0,value:"Flickr Pro beitreten"}],OVER_UPLOAD_LIMIT_HEAD_FINAL:[{type:0,value:"Deine Fotos könnten gelöscht werden."}],OVER_UPLOAD_LIMIT_COPY_FINAL:[{type:0,value:"Der kostenlose Flickr-Account ist auf "},{type:1,value:"limitCount"},{type:0,value:" Fotos oder Videos beschränkt. Die ältesten Elemente, die das Limit überschreiten, könnten gelöscht werden. Führe ein Upgrade auf Flickr Pro durch, um unbegrenzten Speicherplatz zu erhalten."}],LIKE_TO_KEEP_YOUR_PHOTOS:[{type:0,value:'wir würden sehr gern alle deine Fotos für immer kostenlos für dich aufbewahren. (Einschließlich dieses Fotos, das erste, das du auf Flickr hochgeladen hast.) Wie du aber wahrscheinlich weißt, haben wir <a href="'},{type:1,value:"rulesUrl"},{type:0,value:'">neue Regeln für kostenlose Accounts</a> und müssen daher Fotos, die unsere neuen Limits überschreiten, löschen. Du hast '},{type:1,value:"photoCountString"},{type:0,value:" Fotos, die wir nicht länger kostenlos aufbewahren können. Sag uns bitte, was du tun möchtest."}],DONT_SAVE_MY_PHOTOS:[{type:0,value:"Meine Fotos nicht speichern"}]})}),"@VERSION@",{requires:["intl"]});YUI.add("hermes-template-fluid-modal-nav-bar",(function(l,n){var e=l.Template.Handlebars.revive({1:function(l,n,e,a,t){var o,r=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return null!=(o=r(e,"unless").call(null!=n?n:l.nullContext||{},null!=n?r(n,"disabled"):n,{name:"unless",hash:{},fn:l.program(2,t,0),inverse:l.noop,data:t,loc:{start:{line:5,column:3},end:{line:7,column:14}}}))?o:""},2:function(l,n,e,a,t){var o,r,u=null!=n?n:l.nullContext||{},i=l.hooks.helperMissing,c="function",s=l.escapeExpression,m=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'\t\t\t<li data-id="'+s(typeof(r=null!=(r=m(e,"id")||(null!=n?m(n,"id"):n))?r:i)===c?r.call(u,{name:"id",hash:{},data:t,loc:{start:{line:6,column:16},end:{line:6,column:22}}}):r)+'" data-value="'+s(typeof(r=null!=(r=m(e,"value")||(null!=n?m(n,"value"):n))?r:i)===c?r.call(u,{name:"value",hash:{},data:t,loc:{start:{line:6,column:36},end:{line:6,column:45}}}):r)+'" '+(null!=(o=m(e,"if").call(u,null!=n?m(n,"searchPillConfig"):n,{name:"if",hash:{},fn:l.program(3,t,0),inverse:l.noop,data:t,loc:{start:{line:6,column:47},end:{line:6,column:113}}}))?o:"")+' class="link '+(null!=(o=m(e,"if").call(u,null!=n?m(n,"selected"):n,{name:"if",hash:{},fn:l.program(5,t,0),inverse:l.noop,data:t,loc:{start:{line:6,column:126},end:{line:6,column:157}}}))?o:"")+" "+(null!=(o=m(e,"if").call(u,null!=n?m(n,"hiddenByDefault"):n,{name:"if",hash:{},fn:l.program(7,t,0),inverse:l.noop,data:t,loc:{start:{line:6,column:158},end:{line:6,column:194}}}))?o:"")+'" tabindex="0"><a data-value="'+s(typeof(r=null!=(r=m(e,"value")||(null!=n?m(n,"value"):n))?r:i)===c?r.call(u,{name:"value",hash:{},data:t,loc:{start:{line:6,column:224},end:{line:6,column:233}}}):r)+'">'+s(typeof(r=null!=(r=m(e,"name")||(null!=n?m(n,"name"):n))?r:i)===c?r.call(u,{name:"name",hash:{},data:t,loc:{start:{line:6,column:235},end:{line:6,column:243}}}):r)+"</a></li>\n"},3:function(l,n,e,a,t){var o,r=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'data-context="'+l.escapeExpression("function"==typeof(o=null!=(o=r(e,"searchPillConfig")||(null!=n?r(n,"searchPillConfig"):n))?o:l.hooks.helperMissing)?o.call(null!=n?n:l.nullContext||{},{name:"searchPillConfig",hash:{},data:t,loc:{start:{line:6,column:85},end:{line:6,column:105}}}):o)+'"'},5:function(l,n,e,a,t){return"selected"},7:function(l,n,e,a,t){return"hidden"},9:function(l,n,e,a,t){return'\t\t\t<form action="/search" method="get" role="search">\n\t\t\t\t<input type="submit" class="search-icon" tabindex="-1" aria-label="Search" role="button">\n\t\t\t\t<ul class="search-pillbox"></ul>\n\t\t\t\t<input type="text" name="text" value="" class="search-field" autocomplete="off" aria-label="Search" role="textbox">\n\t\t\t</form>\n'},compiler:[8,">= 4.3.0"],main:function(l,n,e,a,t){var o,r=null!=n?n:l.nullContext||{},u=l.lookupProperty||function(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]};return'<div class="fluid-modal-nav-bar">\n\t<div class="fluid-modal-nav-content">\n\t\t<ul class="links">\n'+(null!=(o=u(e,"each").call(r,null!=n?u(n,"links"):n,{name:"each",hash:{},fn:l.program(1,t,0),inverse:l.noop,data:t,loc:{start:{line:4,column:2},end:{line:8,column:11}}}))?o:"")+"\t\t</ul>\n"+(null!=(o=u(e,"if").call(r,null!=n?u(n,"enableSearch"):n,{name:"if",hash:{},fn:l.program(9,t,0),inverse:l.noop,data:t,loc:{start:{line:10,column:2},end:{line:16,column:9}}}))?o:"")+"\t</div>\n</div>\n"},useData:!0}),a={};l.Array.each([],(function(n){var e=l.Template.get("hermes/"+n);e&&(a[n]=e)})),l.Template.register("hermes/fluid-modal-nav-bar",(function(n,t){return(t=t||{}).partials=t.partials?l.merge(a,t.partials):a,e(n,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("fluid-modal-nav-bar-view",(function(e){"use strict";var t;t={css:{nav:".fluid-modal-nav-bar",navContent:".fluid-modal-nav-content",links:".links",link:".link"},options:{}},e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){var t,i,n=this.get("breakpointConfig")||[],a=this.appContext.viewportData.getWidth();for(i=n.sort((function(e,t){return e.maxWidth-t.maxWidth})),t=0;t<i.length;t++)if(a<i[t].maxWidth){this.mobileConfig=i[t],this.set("links",this.mobileConfig.links),this.set("enableSearch",this.mobileConfig.enableSearch);break}return this.set("contextToString",{photos:this.intlMessage({intlName:"groups.PHOTOS"}),photostream:this.intlMessage({intlName:"groups.PHOTOS"}),favorites:this.intlMessage({intlName:"common.FAVORITES"}),faves:this.intlMessage({intlName:"common.FAVORITES"}),albums:this.intlMessage({intlName:"common.ALBUMS"}),everyone:this.intlMessage({intlName:"search.EVERYONE"}),contacts:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),peopleYouFollow:this.intlMessage({intlName:"search.PEOPLE_YOU_FOLLOW"}),discussions:this.intlMessage({intlName:"groups.DISCUSSIONS_LINK_LABEL"}),commons:this.intlMessage({intlName:"commons.THE_COMMONS"})}),this},loadState:function(){return this},buildContainer:function(){var e;return e={links:this.get("links"),enableSearch:this.get("enableSearch")},this.setContainerWithTemplate("fluid-modal-nav-bar",e),this},activate:function(){var e=this.get("container"),t=this,i=e.one(".search-field");if(this.registerEventHandler(e.on("click",this.handleClick.bind(this))),this.registerEventHandler(e.on("key",this.handleClick.bind(this),"down:13")),this.get("links").forEach((function(i){i.selected&&t.set("currentSelection",e.one('.link[data-id="'+i.id+'"]'))})),this.defaultContext=this.get("links")[0].value,this.get("currentSelection").hasAttribute("data-context")){var n=JSON.parse(this.get("currentSelection").getAttribute("data-context"));this.addPill(n.pillName,this.get("contextToString")[n.scope]),this.registerEventHandler(i.on("key",this.handleSearchFieldKeydown.bind(this),"down:8"))}return this},deselectAll:function(){this.get("container").one(t.css.nav).one(t.css.navContent).one(t.css.links).all(t.css.link).removeClass("selected")},handleClick:function(t){var i,n,a=t.target,s=a.get("parentNode"),l=this.get("container"),r={},o=this.appContext.getViewer().nsid;if("a"===a.getDOMNode().tagName.toLowerCase())t.halt(),this.updateSelectionAndSearchField(s),this.fire("subviewViewEvent","navigation",t);else if(a.hasClass("link"))t.halt(),this.updateSelectionAndSearchField(a),this.fire("subviewViewEvent","navigation",t);else if(a.hasClass("search-pill-remover"))t.halt(),this.removeContext();else if(i=l.one(".search-field"),this.get("enableSearch")&&i&&(n=l.one(".search-field").getDOMNode(),"submit"===a.getDOMNode().type)){t.halt(),r.apiParams={},r.apiParams[e.AttributeHelpers.coerceString(n.name)]=n.value,r.id=e.SearchHelper.generateQueryString(r.apiParams)||e.guid(),r.viewerNsid=o;var c=this.get("currentSelection");c.hasAttribute("data-context")?r.contextSearch=c.getAttribute("data-id"):(this.deselectAll(),this.set("currentSelection",{type:"search",modelParams:r})),this.fire("subviewViewEvent","search",r)}},onParentViewEvent:function(t,i){var n=this.get("currentSelection");"backToList"===i[0]&&(n instanceof e.Node?this.get("currentSelection").getDOMNode().click():"search"===n.type&&this.fire("subviewViewEvent","search",n.modelParams))},addPill:function(t,i){var n,a={name:t};i&&(a.combo=!0,a.secondName=i),n=e.Node.create(this.templates("search-pill")(a)),this.get("container").one(".search-pillbox").appendChild(n)},removePills:function(){this.get("container").one(".search-pillbox").get("children").remove()},removeContext:function(){var t=this.get("container"),i=t.one(".search-field").getDOMNode(),n={},a=this.appContext.getViewer().nsid,s={},l=t.one('.link[data-id="'+this.defaultContext+'"]');this.removePills(),this.deselectAll(),l.addClass("selected"),this.set("currentSelection",l),s.target=l,i.value.length>0?(n.apiParams={},n.apiParams[e.AttributeHelpers.coerceString(i.name)]=i.value,n.id=e.SearchHelper.generateQueryString(n.apiParams)||e.guid(),n.viewerNsid=a,this.fire("subviewViewEvent","search",n)):this.fire("subviewViewEvent","navigation",s)},handleSearchFieldKeydown:function(t){var i=t.target;0===e.fluid.getTextFieldCursorPosition(i)&&""===e.fluid.getTextFieldSelection()&&this.removeContext()},updateSelectionAndSearchField:function(e){var t,i=this.get("container"),n=i.one(".search-field"),a=i.one(".search-pill");this.deselectAll(),e.addClass("selected"),this.set("currentSelection",e),this.get("currentSelection").hasAttribute("data-context")&&(t=JSON.parse(this.get("currentSelection").getAttribute("data-context"))),n&&(n.getDOMNode().value=""),t?a||this.addPill(t.pillName,this.get("contextToString")[t.scope]):a&&this.removePills()}},{ATTRS:{links:{value:[],validator:function(t){return e.Lang.isArray(t)}},currentSelection:{value:null},enableSearch:{value:!0,validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}},breakpointConfig:{value:null}}})}),"@VERSION@",{requires:["flickr-view","flickr-promise","hermes-template-fluid-modal-nav-bar","hermes-template-search-pill","attribute-helpers","search-helper"],langBundles:["common","wallart","groups","search","commons"],optional:["person-models","photo-models"]});YUI.add("hermes-template-slim-footer",(function(e,a){var n=e.Template.Handlebars.revive({1:function(e,a,n,l,t){var s=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'\t\t<a  class="trustarc-cookie-pref-link" href="/help/cookies">'+e.escapeExpression((s(n,"intlMessage")||a&&s(a,"intlMessage")||e.hooks.helperMissing).call(null!=a?a:e.nullContext||{},{name:"intlMessage",hash:{intlName:"policy-terms.COOKIES"},data:t,loc:{start:{line:12,column:61},end:{line:12,column:108}}}))+"</a>\n"},compiler:[8,">= 4.3.0"],main:function(e,a,n,l,t){var s,o=null!=a?a:e.nullContext||{},i=e.hooks.helperMissing,r=e.escapeExpression,c=e.lambda,m=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="slim-footer">\n\t<a href="/about" data-track="footer-about">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.ABOUT"},data:t,loc:{start:{line:2,column:44},end:{line:2,column:83}}}))+'</a>\n\t<a href="/jobs" data-track="footer-jobs">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.JOBS"},data:t,loc:{start:{line:3,column:42},end:{line:3,column:80}}}))+'</a>\n\t<a target="_blank" href="//blog.flickr.net/en" data-track="footer-blog">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.BLOG"},data:t,loc:{start:{line:4,column:73},end:{line:4,column:111}}}))+'</a>\n\t<a href="/services/developer" data-track="footer-developers">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.DEVELOPERS"},data:t,loc:{start:{line:5,column:62},end:{line:5,column:106}}}))+'</a>\n\t<a href="/help/guidelines" data-track="footer-guidelines">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.GUIDELINES"},data:t,loc:{start:{line:6,column:59},end:{line:6,column:103}}}))+'</a>\n\t<a target="_blank" href="//flickrhelp.com" data-track="footer-help">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP"},data:t,loc:{start:{line:7,column:69},end:{line:7,column:107}}}))+'</a>\n\t<a href="/help/forum" data-track="footer-forum">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.HELP_FORUM"},data:t,loc:{start:{line:8,column:49},end:{line:8,column:93}}}))+'</a>\n\t<a href="/help/privacy" data-track="footer-privacy">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.PRIVACY"},data:t,loc:{start:{line:9,column:53},end:{line:9,column:94}}}))+'</a>\n\t<a href="/help/terms" data-track="footer-terms">'+r((m(n,"intlMessage")||a&&m(a,"intlMessage")||i).call(o,{name:"intlMessage",hash:{intlName:"common.TERMS"},data:t,loc:{start:{line:10,column:49},end:{line:10,column:88}}}))+"</a>\n"+(null!=(s=(m(n,"isFlipped")||a&&m(a,"isFlipped")||i).call(o,"enable-cookie-consent-execution-hermes",{name:"isFlipped",hash:{},fn:e.program(1,t,0),inverse:e.noop,data:t,loc:{start:{line:11,column:1},end:{line:13,column:15}}}))?s:"")+'\t<div class="foot-li lang-switcher">\n\t\t<a href="/change_language.gne?lang='+r(c(null!=(s=null!=a?m(a,"selectedLang"):a)?m(s,"code"):s,a))+"&csrf="+r(c(null!=(s=null!=a?m(a,"selectedLang"):a)?m(s,"csrf"):s,a))+'" data-track="footer-language">'+r(c(null!=(s=null!=a?m(a,"selectedLang"):a)?m(s,"name"):s,a))+'</a>\n\t\t<div class="arrow">\n\t\t\t<svg class="icon icon-caret-down"><use xlink:href="#icon-caret-down"></use></svg>\n\t\t</div>\n\t </div>\n</div>\n\t\n'},useData:!0}),l={};e.Array.each([],(function(a){var n=e.Template.get("hermes/"+a);n&&(l[a]=n)})),e.Template.register("hermes/slim-footer",(function(a,t){return(t=t||{}).partials=t.partials?e.merge(l,t.partials):l,n(a,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("footer-helper",(function(e,r){require("hermes-core/flog")(r);var n=["en-US","zh-HK","de-DE","es-US","fr-FR","ko-KR","it-IT","pt-BR","vn-VN","id-ID"],o={"en-US":"English","de-DE":"Deutsch","es-US":"Español","fr-FR":"Français","ko-KR":"한글","it-IT":"Italiano","pt-BR":"Português","vn-VN":"Tiếng Việt","id-ID":"Bahasa Indonesia","zh-HK":"繁體中文"};e.FooterHelper=function(r,a){var t,s,i,u,c,d=[],l=r.lang;for(u=r.auth&&r.auth.csrf?r.auth.csrf:"","vi-vn"===l.toLowerCase()&&(l="vn-VN"),c={code:l,name:o[l],csrf:u},s=0,i=n.length;s<i;s++)n[s]!==l&&"string"==typeof n[s]&&d.push({code:n[s].toLowerCase(),name:o[n[s]],csrf:u});t=d.map((function(e){return{href:"/change_language.gne?lang="+e.code+"&csrf="+e.csrf,text:e.name}}));var f={createDropAround:function(n,o){var a,s;(s=n.one("a")).addClass("dimmed"),(a=new e.Views.FluidDroparound({appContext:r,showDropArrow:!0,observePageResize:!0,dismissOnOverlayClick:!0,anchorElement:n.one(".arrow"),classList:"lang-droparound",menuItems:t})).show(),o.registerEventHandler(a.on("closeDroparound",(function(e){s.removeClass("dimmed")})))},getTemplateParams:function(){return{selectedLang:c,helpLocaleKey:c.code.replace("-","_")||"en_US",menuLangs:d}}};return e.augment(f,e.EventTarget),f}}),"@VERSION@",{requires:["fluid-droparound-view","event-custom"],optionalRequires:["hermes-core"]});YUI.add("slim-footer-view",(function(e){e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(t){return this.footerHelper=new e.FooterHelper(this.appContext,{}),this},buildContainer:function(){var t;return this.get("viewer")&&e.merge(this.get("viewer").toJSON(),{urls:e.URLHelper.generatePersonUrls(this.get("viewer"))}),t=this.footerHelper.getTemplateParams(),YUI.Env.isServer?t.pageUrl=this.appContext.request.url:t.pageUrl=window.location.pathname,t.requiresCookieConsent=!0,this.appContext.flipper.isFlipped("enable-geoblock-cookie-consent")&&(t.requiresCookieConsent=this.appContext.requiresCookieConsent),this.setContainerWithTemplate("slim-footer",t),this},activate:function(){var e,t=this,r=this.get("container");return this.registerEventHandler(r.delegate("click",(function(r){e=r.target.ancestor(".lang-switcher",!0),r.preventDefault(),t.footerHelper.createDropAround(e,t)}),".lang-switcher")),this}})}),"@VERSION@",{requires:["flickr-view","hermes-template-slim-footer","url-helper","footer-helper"],langBundles:["common","policy-terms"]});